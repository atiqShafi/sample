@using System.Web.Optimization
@using Sample.Core.Common
@inherits  System.Web.Mvc.WebViewPage<Sample.Web.Modules.App.Builders.AppModel>
<!DOCTYPE html>
<html>
<head>
  @{
    @Styles.Render("~/styles")
    @Styles.Render("~/less")
    @Scripts.Render("~/scripts")
    @Scripts.Render("~/app")
    @Scripts.Render("~/templates")
    var app = @Model;
  }
  <title>Sample app</title>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="ComIS">
  <meta http-equiv="cache-control" content="max-age=0" />
  <meta http-equiv="cache-control" content="no-cache" />
  <meta http-equiv="expires" content="0" />
  <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
  <meta http-equiv="pragma" content="no-cache" />
  <base href="~/" />
  <script>
    angular.module("app").value("loggedUser", @Html.Raw(@app.LoggedUser));
    angular.module('app').value("isDebugMode",@Html.Raw(@app.IsDebugMode));
  </script>
</head>
<body ng-app="app" ng-controller="mainCtrl">
  <nav class="navbar navbar-inverse navbar-fixed-top">
    <div class="container-fluid">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a href="#" class="navbar-brand">Application name</a>
      </div>
      <div id="navbar" class="navbar-collapse collapse">
        <ul class="nav navbar-nav" ng-show="loggedUser">
          <li  ng-class="{active: $state.includes('users')}"><a ui-sref="users.list"><i class="fa fa-users"></i>Users</a></li>
          <li><a><i class="fa fa-folder"></i>Module 2</a></li>
          <li><a><i class="fa fa-file"></i>Module 3</a></li>
        </ul>
        <ul class="nav navbar-nav navbar-right">
          <li>
            <div style="padding-top: 15px">
              <div ng-show="loggedUser">
                <span style="color: #fff; margin-right: 20px;">{{loggedUser.email}}</span>
                <a ng-click="logout()" style="margin-left: 20px;"><i class="fa fa-sign-out fa-lg"></i></a>
              </div>
              <span ng-show="!loggedUser" style="margin-right: 20px; color: #fff;">Anonymous user</span>
            </div>
          </li>
        </ul>
      </div>
    </div>
  </nav>
  <div ui-view></div>
  <div class="window-overlay">
    <div class="filter"></div>
    <div class="loading-bar">
      <span class="pipe"></span>
      Loading...
    </div>
  </div>
</body>
</html>
